<mxfile host="app.diagrams.net" modified="2020-11-14T07:19:56.842Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.193 Safari/537.36" etag="i6DXHMAqiKNQrsjC3PXW" version="13.9.6" type="github">
  <diagram id="r-evyJLXnqQG_8zhjXmG" name="Page-1">
    <mxGraphModel dx="946" dy="538" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="GzpSOioK7_GpfNX-g1KW-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-1" target="GzpSOioK7_GpfNX-g1KW-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-1" value="&lt;pre&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&lt;font&gt;RegistryProtocol#&lt;/font&gt;doLocalExport&lt;/font&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="70" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-8" target="GzpSOioK7_GpfNX-g1KW-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-8" value="&lt;pre&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;providerUrl中的protocol为dubbo&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size=&quot;3&quot;&gt;所以会执行DubboProtocol#export&lt;/font&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="180" y="170" width="280" height="120" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-9" target="GzpSOioK7_GpfNX-g1KW-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-9" value="&lt;pre&gt;&lt;pre style=&quot;color: rgb(0 , 0 , 0)&quot;&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;DubboProtocol#export&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="320" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-17" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-10" target="GzpSOioK7_GpfNX-g1KW-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-10" value="&lt;font style=&quot;font-size: 14px&quot;&gt;服务开启是在openServer方法中，从缓存中找服务是否已经开启，开启直接返回，否则调用createServer方法启动服务&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-family: &amp;#34;menlo&amp;#34; ; font-size: 13.5pt&quot;&gt;&lt;br&gt;&lt;/span&gt;" style="ellipse;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="165" y="420" width="310" height="120" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-14" target="GzpSOioK7_GpfNX-g1KW-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-14" value="&lt;pre&gt;&lt;pre style=&quot;color: rgb(0 , 0 , 0)&quot;&gt;&lt;pre&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&lt;font&gt;DubboProtocol#&lt;/font&gt;createServer&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="585" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-15" target="GzpSOioK7_GpfNX-g1KW-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-15" value="&lt;pre&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;这个方法最主要的是&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;font size=&quot;3&quot;&gt;Exchangers.bind(url, requestHandler)&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size=&quot;3&quot;&gt;根据Dubbo Spi&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size=&quot;3&quot;&gt;最终会调用HeaderExchanger#bind方法&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="175" y="700" width="290" height="160" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-16" target="GzpSOioK7_GpfNX-g1KW-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-16" value="&lt;pre&gt;&lt;pre style=&quot;color: rgb(0 , 0 , 0)&quot;&gt;&lt;pre&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&lt;font&gt;HeaderExchanger#&lt;/font&gt;&lt;/font&gt;bind&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="900" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-29" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-20" target="GzpSOioK7_GpfNX-g1KW-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-20" value="&lt;pre&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;这个方法最主要的是&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;font size=&quot;3&quot;&gt;Exchangers.bind(url, requestHandler)&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size=&quot;3&quot;&gt;根据Dubbo Spi&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size=&quot;3&quot;&gt;最终会调用HeaderExchanger#bind方法&lt;/font&gt;&lt;/pre&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="175" y="1000" width="290" height="160" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-30" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-21" target="GzpSOioK7_GpfNX-g1KW-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-21" value="&lt;pre&gt;&lt;pre style=&quot;color: rgb(0 , 0 , 0)&quot;&gt;&lt;pre&gt;&lt;font style=&quot;font-size: 14px&quot;&gt;&lt;font&gt;HeaderExchanger#&lt;/font&gt;&lt;/font&gt;bind&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="1200" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;sketch=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="GzpSOioK7_GpfNX-g1KW-22" target="GzpSOioK7_GpfNX-g1KW-24">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-22" value="&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;&lt;pre&gt;NettyTransporter#bind&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="170" y="1310" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="GzpSOioK7_GpfNX-g1KW-24" value="&lt;font style=&quot;font-size: 14px&quot;&gt;创建了一个NettyServer，在其父类&lt;br&gt;&lt;/font&gt;&lt;pre&gt;&lt;font size=&quot;3&quot;&gt;AbstractServer的构造函数中，调用了&lt;/font&gt;&lt;/pre&gt;&lt;pre&gt;&lt;font size=&quot;3&quot;&gt;doOpen方法，开启NettyServer&lt;/font&gt;&lt;/pre&gt;" style="ellipse;whiteSpace=wrap;html=1;shadow=0;sketch=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="175" y="1420" width="290" height="160" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
